# 项目小结

这次项目中我负责的是后端的实现。在这一次作业以前对后端的认知是很模糊的，后端应该包含哪些部分？应该如何划分项目结构？应该使用什么样的框架？我都不太清楚。通过请教和学习别人的最佳实践，逐渐上手。

对于一个 RESTful API 的服务端，它的任务是清晰的，一边与格式明确的 http 资源请求打交道，一边对数据库做对应的增删查改。

## 数据库部分

### 使用 database/sql 还是 ORM

一开始便遇到工具选择的问题，ORM 是对数据库操作的更高级的抽象，在很多方面具有很多优越性，对于实际的大型项目 ORM 是好很多的选择。不过第一次用 go 语言写后端，我希望用最少的第三方库和框架，因此仍然使用了 database/sql。即使是在这个小小的项目中，我也感受到了 database/sql 的一些局限性。但对于一般的项目而言，go 自带的 database/sql 已经相当够用。

### 数据库的设计

数据库得自己设计，让我不得不复习上学期学的数据库。关系型数据库的存储并不是对数据直观的存放，亲身设计一个系统的数据库能加强对服务端提供服务的过程的理解。  
对于一个 RESTful API 而言，很多人说设计 API 时应该不考虑数据库，但我更倾向于设计 API 时同时考虑数据库的细节 —— 我是否能通过合理的数据库设计来让这个 API 对应的服务端操作极简而快速。

## 服务层和表现层

我的服务层和表现层是合在一起的，使用 GIN 框架，快速地实现了 URL -> CRUD 的映射。

### GIN 的使用

GIN 太好用了，我写出了幼儿园级别的代码，但跑得非常好。

### RESTful API 的设计

API 的设计是花了最多时间的部分。我希望的是尽可能的符合 REST 原则，同时对每种资源都能提供足够丰富的接口。这两者并不好兼容。通过学习来自网络上的各种最佳实践，最终得到了一个差强人意的 API。

